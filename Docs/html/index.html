<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crank-Nicolson Pricer: Advanced Option Pricing Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Crank-Nicolson Pricer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Advanced <a class="el" href="class_option.html" title="Represents an option contract with numerical pricing methods using finite difference techniques.">Option</a> Pricing Framework </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This project implements a comprehensive framework for pricing financial options using numerical methods. It supports both European and American options, employing finite difference methods for solving the partial differential equations governing option prices. The framework is designed to handle various scenarios, including dynamic interest rates and early exercise features.</p>
<h1><a class="anchor" id="features_sec"></a>
Features</h1>
<p>The key features of this framework include:</p>
<ul>
<li><b>Support for Multiple <a class="el" href="class_option.html" title="Represents an option contract with numerical pricing methods using finite difference techniques.">Option</a> Types:</b><ul>
<li>European and American options.</li>
<li>Call and Put contracts.</li>
</ul>
</li>
<li><b>Finite Difference Methods:</b><ul>
<li>Tridiagonal matrix computations for efficient numerical solutions.</li>
<li>Iterative methods with penalty adjustments for American options.</li>
</ul>
</li>
<li><b>Sensitivity Analysis (the Greeks):</b><ul>
<li>Delta, Gamma, Vega, Theta, and Rho are computed using finite differences.</li>
</ul>
</li>
<li><b>Dynamic Interest Rates:</b><ul>
<li>Flexible handling of interest rate curves.</li>
</ul>
</li>
<li><b>Grid-Based Pricing:</b><ul>
<li>A detailed computational grid for visualizing option price evolution over time and spot prices.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="usage_sec"></a>
Usage</h1>
<p>To price an option, create an instance of the <code><a class="el" href="class_option.html" title="Represents an option contract with numerical pricing methods using finite difference techniques.">Option</a></code> class with appropriate parameters:</p>
<ul>
<li><b>Contract and Exercise Types:</b> Use <code>1</code> for Call and <code>-1</code> for Put, <code>1</code> for European, and <code>0</code> for American.</li>
<li><b>Model Parameters:</b> Provide maturity ( T ), strike price ( K ), interest rate curve, and volatility.</li>
<li><b>Grid Resolution:</b> Set the number of time and spot price steps for the finite difference grid.</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_option_8h.html">Option.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <span class="keywordtype">int</span> ct = 1; <span class="comment">//call -&gt; 1, put -&gt; -1</span></div>
<div class="line">        <span class="keywordtype">bool</span> et = 1; <span class="comment">//european -&gt; 1, american -&gt; 0</span></div>
<div class="line">        <span class="keywordtype">double</span> T = 1.0; <span class="comment">//maturity</span></div>
<div class="line">        <span class="keywordtype">double</span> K = 180; <span class="comment">//strike price</span></div>
<div class="line">        <span class="keywordtype">double</span> T0 = 0.0; <span class="comment">//starting time</span></div>
<div class="line">        <span class="keywordtype">double</span> S0 = 200; <span class="comment">//starting value of underlying</span></div>
<div class="line">        std::vector&lt;std::pair&lt;double, double&gt;&gt; ir = { {0.0, 0.10}, {1.0, 0.10} }; <span class="comment">//discrete interest rate curve</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="class_interest_rate.html">InterestRate</a> IR(ir);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">double</span> sigma = 0.20; <span class="comment">//volatility</span></div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N = 1000; <span class="comment">//time mesh</span></div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> M = 1000; <span class="comment">//spot mesh</span></div>
<div class="line">        <span class="keywordtype">double</span> h = 0.01;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="class_option.html">Option</a> call(ct, et, T, K, T0, N, M, S0, ir, sigma);</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Price: &quot;</span> &lt;&lt; call.price()         &lt;&lt; std::endl</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;Delta: &quot;</span> &lt;&lt; call.delta(S0 * h)   &lt;&lt; std::endl</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;Gamma: &quot;</span> &lt;&lt; call.gamma(S0 * h)   &lt;&lt; std::endl</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;Theta: &quot;</span> &lt;&lt; call.theta(T * h)    &lt;&lt; std::endl</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;Vega: &quot;</span>  &lt;&lt; call.vega(sigma * h) &lt;&lt; std::endl</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;Rho: &quot;</span>   &lt;&lt; call.rho(h);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="class_option_exceptions.html">OptionExceptions</a>&amp; e) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Exception -&gt; &quot;</span> &lt;&lt; e.<a class="code hl_function" href="class_option_exceptions.html#a6e35c300bd24d172ac97aa498e66e833">what</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;General exception&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (...) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Unknown exception&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_option_8h_html"><div class="ttname"><a href="_option_8h.html">Option.h</a></div><div class="ttdoc">Class to create and manage an Option object with numerical pricing methods.</div></div>
<div class="ttc" id="aclass_interest_rate_html"><div class="ttname"><a href="class_interest_rate.html">InterestRate</a></div><div class="ttdoc">Represents an interest rate model with time-dependent rates.</div><div class="ttdef"><b>Definition</b> InterestRate.h:22</div></div>
<div class="ttc" id="aclass_option_exceptions_html"><div class="ttname"><a href="class_option_exceptions.html">OptionExceptions</a></div><div class="ttdoc">Base class for handling errors related to option processing.</div><div class="ttdef"><b>Definition</b> OptionExceptions.h:13</div></div>
<div class="ttc" id="aclass_option_exceptions_html_a6e35c300bd24d172ac97aa498e66e833"><div class="ttname"><a href="class_option_exceptions.html#a6e35c300bd24d172ac97aa498e66e833">OptionExceptions::what</a></div><div class="ttdeci">virtual const char * what() const</div><div class="ttdoc">Default error message for generic errors.</div><div class="ttdef"><b>Definition</b> OptionExceptions.h:19</div></div>
<div class="ttc" id="aclass_option_html"><div class="ttname"><a href="class_option.html">Option</a></div><div class="ttdoc">Represents an option contract with numerical pricing methods using finite difference techniques.</div><div class="ttdef"><b>Definition</b> Option.h:18</div></div>
</div><!-- fragment --><h1><a class="anchor" id="impl_sec"></a>
Implementation Details</h1>
<ul>
<li><b>Finite Difference Grid:</b> A 2D grid of option values is created, with rows representing spot prices and columns representing time steps.</li>
<li><b>Boundary Conditions:</b> Applied to enforce realistic option values at extreme spot prices.</li>
<li><b>Tridiagonal Matrix Operations:</b> Efficiently solve the linear systems arising in finite difference methods.</li>
<li><b>Penalty Method:</b> Handles the early exercise feature of American options.</li>
</ul>
<h1><a class="anchor" id="greeks_sec"></a>
Sensitivity Analysis</h1>
<p>The framework provides methods to compute the following option sensitivities (Greeks):</p><ul>
<li><b>Delta:</b> Sensitivity to changes in the underlying asset price.</li>
<li><b>Gamma:</b> Sensitivity of Delta to changes in the underlying asset price.</li>
<li><b>Theta:</b> Sensitivity to the passage of time.</li>
<li><b>Vega:</b> Sensitivity to changes in volatility.</li>
<li><b>Rho:</b> Sensitivity to changes in the interest rate.</li>
</ul>
<h1><a class="anchor" id="future_sec"></a>
Future Enhancements</h1>
<p>Suggestions for future development:</p><ul>
<li>Extend support for multi-asset options.</li>
<li>Implement Monte Carlo simulations for validation.</li>
<li>Add functionality for barrier and Asian options.</li>
<li>Improve performance with GPU-based parallelism.</li>
</ul>
<h1><a class="anchor" id="author_sec"></a>
Author</h1>
<p>Developed as part of an advanced computational finance project. This framework is intended for educational purposes and as a foundation for further research in option pricing techniques.</p>
<p>Authors: Boccia Flavio, Costa Ludovico </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
